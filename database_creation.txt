CREATE DATABASE microframework
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;


USE microframework;


CREATE TABLE task_status (
id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
status VARCHAR(30) NOT NULL UNIQUE
) ENGINE = INNODB;


INSERT INTO task_status (status) VALUES ("pendente");
INSERT INTO task_status (status) VALUES ("finalizada");


CREATE TABLE task_list (
id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
id_status INTEGER NOT NULL DEFAULT 1,
task TEXT NOT NULL,
register_date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
FOREIGN KEY(id_status) REFERENCES task_status(id)
ON UPDATE CASCADE
ON DELETE CASCADE
) ENGINE = INNODB;